<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <style type="text/css">

    </style>
</head>

<body>


    <script type="text/javascript">
        var name = "222";
        var a = {
            name : "111",
            say : function(){
                console.log(this.name);
            }
        }
        var fun = a.say;
        fun();   //222
        a.say(); ///111

        var b = {
            name : "333",
            say : function(fun){
                //this = b;
                fun();
            }
        }
        b.say(a.say); //222
        //虽然b的say函数内this指向的是b。但是调动a.say的并不是b。只是在b的函数环境内执行而已。
        //如果b的say函数内是this.fun();那么打印的name的数值就是b的。
        b.say = a.say;
        b.say();//333



        //函数有指向自己的this。给this.a赋值。打印普通变量(按照作用域找，找不到)会报错，未经定义(声明)就使用。
        // function test(){
        //     this.a = 0;
        //     console.log(a);
        // }
        // new test();
        //函数没有属于自己的this。给this.a赋值。相当于给全局变量赋值。打印普通变量会去寻找全局变量
        // function test(){
        //     this.a = 0;
        //     console.log(a);
        // }
        // test();
        //函数有自己的this，给a赋值，打印this.a。会报undefined。
        // function test(){
        //     var a = 0;
         //    console.log(this.a);
         // }
         // new test();
        //函数没有自己的this。给a赋值，打印this.a，会报undefined。
        // function test(){
        //     var a = 0;
        //     console.log(this.a);
        // }
        // test();
    </script>
</body>

</html>